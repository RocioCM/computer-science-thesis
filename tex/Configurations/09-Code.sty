%%% Code Highlighting %%%
\newenvironment{code}{\captionsetup{type=listing}}{}
\SetupFloatingEnvironment{listing}{name=Fragmento de CÃ³digo,within=none}
\captionsetup[listing]{position=above,skip=-6pt}
\newenvironment{longlisting}{\bigskip\medskip\captionsetup{type=listing}}{}

% Define a new and improved minted style.
\setminted{
    frame=lines,
    framesep=2mm,
    baselinestretch=1.2,
    fontsize=\footnotesize,
    linenos,
    tabsize=2,
    breaklines=true,
    breakanywhere=true,
    showtabs=false,
    obeytabs=true,
    python3=true
}

% Change line number color to gray (Frade's suggestion).
\renewcommand{\theFancyVerbLine}{%
    \scriptsize\textcolor[rgb]{0.7,0.7,0.7}{\arabic{FancyVerbLine}}%
}
